# 和Claude一起编码

其实，是claude自己在编码，我甚至都不太审查代码。

## 先说一些我觉得好的实践：
**设计先行**：这部分上一篇里已经讲过了，但仍然值得拿出来讲一下，因为足够模块化才能让我在有限的上下文窗口里完成单个任务。如果你做过scrum或者类似的实践，应该很容易理解。

**知之为知之**：在你不懂一件事的时候可以放心和AI讨论，你只要去看他给你的建议是否合理就好，如果不合理还可以继续改进。

**上下文窗口过长**：如前文所述，靠progress完成，这里有个重要的点是，你最好要有预判，它已经快到极限了，就提前在某个可以完成阶段性工作的地方收手，不要等到系统提醒你，这样会较少消耗token。

**代码质量**：在AI coding时代，我觉得可能需要稍微重新定义一下代码质量，写得是不是干净漂亮可能已经不再是最需要关注的，最需要关注的大概是模块化：这块代码是不是可以独立测试，跟其它模块只有接口级依赖，是不是可以随时无痛重构，是不是足够小，可以让AI一次性读懂理解。如果上述都可以，那么请加UT或者mocked test，让我们能直接看到结果。

## 下面讲讲claude编码遇到的问题和我的解法

**对齐问题**：这里说的不是代码对齐，是AI和人对齐，有时候它会不理解你说什么就开始咣咣写，中间甚至不太容易打断，你也很难讲，有个工作这么投入的员工是好事还是坏事。解法是，当你有预感时，就提前说，先不要着急写代码，我们讨论清楚了再写。如果如迅雷不及掩耳盗铃之势袭来，又来不及打断，我自己的建议就是先git回滚，然后再写。


**改入死局**：claude常遇到一个问题，你让他修改一个bug，他会改出来新的，然后旧的再改，再改出来新的，陷入死局。这种时候，我一般会打断当前对话，让它总结一下进度，然后重开会话。在新的会话里，我可能不再让它去修复bug，而是说，这部分我们重新来实现一下，这部分的范围是什么，我希望的结果是什么，根据我的需求，你能写一个独立模块，然后替掉上述实现吗？这样可能会解决一部分问题。以及，这部分就呼应了上面的代码质量问题，如果我们认为足够小和足够模块化的代码属于高质量代码，那么这里替换起来就会相对方便。

## 最后
我日常看到很多夸cursor、R1、claude编码能力的，个人体验是，我不太相信这些编码能力可以让素人开发出比较复杂的应用，也许各种用后即弃的应用会铺天盖地出来，但如果是稍微有一点复杂度的系统，还是需要有个会编程最好有点架构思维的人来指挥，这个人可能像传统的架构师角色，但他身边干活的不是初级工程师，而是AI。

另外，由于用后即弃的应用会越来越容易开发，也没太多保存价值，我觉得可能类似浏览器插件这些相对轻量级又不需要环境的应用是给素人用AI开发的好实践。